/*! For license information please see 376.min.js.LICENSE.txt */
(this.webpackChunk_tsparticles_interaction_external_attract=this.webpackChunk_tsparticles_interaction_external_attract||[]).push([[376],{376:(t,i,a)=>{a.d(i,{Attractor:()=>l});var n=a(303);const e=1,c=1;function r(t,i,a,r,o){const s=t.actualOptions.interactivity.modes.attract;if(!s)return;const l=t.particles.quadTree.query(r,o);for(const t of l){const{dx:r,dy:o,distance:l}=(0,n.getDistances)(t.position,i),d=s.speed*s.factor,u=(0,n.clamp)((0,n.getEasing)(s.easing)(c-l/a)*d,e,s.maxSpeed),p=n.Vector.create(l?r/l*u:d,l?o/l*u:d);t.position.subFrom(p)}}var o=a(3);const s="attract";class l extends n.ExternalInteractorBase{constructor(t,i){super(i),this._engine=t,i.attract||(i.attract={particles:[]}),this.handleClickMode=t=>{const a=this.container.actualOptions.interactivity.modes.attract;if(a&&t===s){i.attract||(i.attract={particles:[]}),i.attract.clicking=!0,i.attract.count=0;for(const t of i.attract.particles)this.isEnabled(t)&&t.velocity.setTo(t.initialVelocity);i.attract.particles=[],i.attract.finish=!1,setTimeout((()=>{i.destroyed||(i.attract||(i.attract={particles:[]}),i.attract.clicking=!1)}),a.duration*n.millisecondsToSeconds)}}}clear(){}init(){const t=this.container,i=t.actualOptions.interactivity.modes.attract;i&&(t.retina.attractModeDistance=i.distance*t.retina.pixelRatio)}interact(){const t=this.container,i=t.actualOptions,a=t.interactivity.status===n.mouseMoveEvent,e=i.interactivity.events,{enable:c,mode:o}=e.onHover,{enable:l,mode:d}=e.onClick;a&&c&&(0,n.isInArray)(s,o)?function(t,i){const a=t.interactivity.mouse.position,e=t.retina.attractModeDistance;!e||e<0||!a||r(t,a,e,new n.Circle(a.x,a.y,e),(t=>i(t)))}(this.container,(t=>this.isEnabled(t))):l&&(0,n.isInArray)(s,d)&&function(t,i){t.attract||(t.attract={particles:[]});const{attract:a}=t;if(a.finish||(a.count||(a.count=0),a.count++,a.count===t.particles.count&&(a.finish=!0)),a.clicking){const a=t.interactivity.mouse.clickPosition,e=t.retina.attractModeDistance;if(!e||e<0||!a)return;r(t,a,e,new n.Circle(a.x,a.y,e),(t=>i(t)))}else!1===a.clicking&&(a.particles=[])}(this.container,(t=>this.isEnabled(t)))}isEnabled(t){const i=this.container,a=i.actualOptions,e=i.interactivity.mouse,c=(t?.interactivity??a.interactivity).events;if(!(e.position&&c.onHover.enable||e.clickPosition&&c.onClick.enable))return!1;const r=c.onHover.mode,o=c.onClick.mode;return(0,n.isInArray)(s,r)||(0,n.isInArray)(s,o)}loadModeOptions(t,...i){t.attract||(t.attract=new o.K);for(const a of i)t.attract.load(a?.attract)}reset(){}}}}]);