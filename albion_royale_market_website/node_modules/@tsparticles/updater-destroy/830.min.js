/*! For license information please see 830.min.js.LICENSE.txt */
(this.webpackChunk_tsparticles_updater_destroy=this.webpackChunk_tsparticles_updater_destroy||[]).push([[830],{830:(t,o,e)=>{e.d(o,{DestroyUpdater:()=>g});var s=e(303);class i{load(t){t&&(void 0!==t.bottom&&(this.bottom=(0,s.setRangeValue)(t.bottom)),void 0!==t.left&&(this.left=(0,s.setRangeValue)(t.left)),void 0!==t.right&&(this.right=(0,s.setRangeValue)(t.right)),void 0!==t.top&&(this.top=(0,s.setRangeValue)(t.top)))}}class n extends s.ValueWithRandom{constructor(){super(),this.value=3}}class l extends s.ValueWithRandom{constructor(){super(),this.value={min:4,max:9}}}class r{constructor(){this.count=1,this.factor=new n,this.rate=new l,this.sizeOffset=!0}load(t){t&&(void 0!==t.color&&(this.color=s.OptionsColor.create(this.color,t.color)),void 0!==t.count&&(this.count=t.count),this.factor.load(t.factor),this.rate.load(t.rate),this.particles=(0,s.executeOnSingleOrMultiple)(t.particles,(t=>(0,s.deepExtend)({},t))),void 0!==t.sizeOffset&&(this.sizeOffset=t.sizeOffset),t.colorOffset&&(this.colorOffset=this.colorOffset??{},void 0!==t.colorOffset.h&&(this.colorOffset.h=t.colorOffset.h),void 0!==t.colorOffset.s&&(this.colorOffset.s=t.colorOffset.s),void 0!==t.colorOffset.l&&(this.colorOffset.l=t.colorOffset.l)))}}class a{constructor(){this.bounds=new i,this.mode="none",this.split=new r}load(t){t&&(t.mode&&(this.mode=t.mode),t.bounds&&this.bounds.load(t.bounds),this.split.load(t.split))}}const c=0,d=.5,u=0,h=1,f=500;function p(t,o,e,i){const n=e.options.destroy;if(!n)return;const l=n.split,r=(0,s.loadParticlesOptions)(t,o,e.options),a=(0,s.getRangeValue)(l.factor.value),p=e.getFillColor();l.color?r.color.load(l.color):l.colorOffset&&p?r.color.load({value:{hsl:{h:p.h+(0,s.getRangeValue)(l.colorOffset.h??c),s:p.s+(0,s.getRangeValue)(l.colorOffset.s??c),l:p.l+(0,s.getRangeValue)(l.colorOffset.l??c)}}}):r.color.load({value:{hsl:e.getFillColor()}}),r.move.load({center:{x:e.position.x,y:e.position.y,mode:"precise"}}),(0,s.isNumber)(r.size.value)?r.size.value/=a:(r.size.value.min/=a,r.size.value.max/=a),r.load(i);const g=l.sizeOffset?(0,s.setRangeValue)(-e.size.value,e.size.value):c,v={x:e.position.x+(0,s.randomInRange)(g),y:e.position.y+(0,s.randomInRange)(g)};return o.particles.addParticle(v,r,e.group,(t=>!(t.size.value<d)&&(t.velocity.length=(0,s.randomInRange)((0,s.setRangeValue)(e.velocity.length,t.velocity.length)),t.splitCount=(e.splitCount??u)+h,t.unbreakable=!0,setTimeout((()=>{t.unbreakable=!1}),f),!0)))}class g{constructor(t,o){this.container=o,this.engine=t}init(t){const o=this.container,e=t.options.destroy;if(!e)return;t.splitCount=0;const i=e.bounds;t.destroyBounds||(t.destroyBounds={});const{bottom:n,left:l,right:r,top:a}=i,{destroyBounds:c}=t,d=o.canvas.size;n&&(c.bottom=(0,s.getRangeValue)(n)*d.height/s.percentDenominator),l&&(c.left=(0,s.getRangeValue)(l)*d.width/s.percentDenominator),r&&(c.right=(0,s.getRangeValue)(r)*d.width/s.percentDenominator),a&&(c.top=(0,s.getRangeValue)(a)*d.height/s.percentDenominator)}isEnabled(t){return!t.destroyed}loadOptions(t,...o){t.destroy||(t.destroy=new a);for(const e of o)t.destroy.load(e?.destroy)}particleDestroyed(t,o){if(o)return;const e=t.options.destroy;e&&"split"===e.mode&&function(t,o,e){const i=e.options.destroy;if(!i)return;const n=i.split;if(n.count>=0&&(void 0===e.splitCount||e.splitCount++>n.count))return;const l=(0,s.getRangeValue)(n.rate.value),r=(0,s.itemFromSingleOrMultiple)(n.particles);for(let s=0;s<l;s++)p(t,o,e,r)}(this.engine,this.container,t)}update(t){if(!this.isEnabled(t))return;const o=t.getPosition(),e=t.destroyBounds;e&&(void 0!==e.bottom&&o.y>=e.bottom||void 0!==e.left&&o.x<=e.left||void 0!==e.right&&o.x>=e.right||void 0!==e.top&&o.y<=e.top)&&t.destroy()}}}}]);