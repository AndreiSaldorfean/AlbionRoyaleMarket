/*! For license information please see 201.min.js.LICENSE.txt */
(this.webpackChunk_tsparticles_interaction_external_bubble=this.webpackChunk_tsparticles_interaction_external_bubble||[]).push([[201],{201:(e,t,i)=>{i.d(t,{Bubbler:()=>a});var b=i(303),o=i(510);function l(e,t,i,o){if(t>=i){const l=e+(t-i)*o;return(0,b.clamp)(l,e,t)}if(t<i){const l=e-(i-t)*o;return(0,b.clamp)(l,t,e)}}const n="bubble";class a extends b.ExternalInteractorBase{constructor(e){super(e),this._clickBubble=()=>{const e=this.container,t=e.actualOptions,i=e.interactivity.mouse.clickPosition,o=t.interactivity.modes.bubble;if(!o||!i)return;e.bubble||(e.bubble={});const l=e.retina.bubbleModeDistance;if(!l||l<0)return;const n=e.particles.quadTree.queryCircle(i,l,(e=>this.isEnabled(e))),{bubble:a}=e;for(const t of n){if(!a.clicking)continue;t.bubble.inRange=!a.durationEnd;const n=t.getPosition(),s=(0,b.getDistance)(n,i),r=((new Date).getTime()-(e.interactivity.mouse.clickTime??0))/b.millisecondsToSeconds;r>o.duration&&(a.durationEnd=!0),r>2*o.duration&&(a.clicking=!1,a.durationEnd=!1);const c={bubbleObj:{optValue:e.retina.bubbleModeSize,value:t.bubble.radius},particlesObj:{optValue:(0,b.getRangeMax)(t.options.size.value)*e.retina.pixelRatio,value:t.size.value},type:"size"};this._process(t,s,r,c);const u={bubbleObj:{optValue:o.opacity,value:t.bubble.opacity},particlesObj:{optValue:(0,b.getRangeMax)(t.options.opacity.value),value:t.opacity?.value??1},type:"opacity"};this._process(t,s,r,u),!a.durationEnd&&s<=l?this._hoverBubbleColor(t,s):delete t.bubble.color}},this._hoverBubble=()=>{const e=this.container,t=e.interactivity.mouse.position,i=e.retina.bubbleModeDistance;if(!i||i<0||!t)return;const o=e.particles.quadTree.queryCircle(t,i,(e=>this.isEnabled(e)));for(const l of o){l.bubble.inRange=!0;const o=l.getPosition(),n=(0,b.getDistance)(o,t),a=1-n/i;n<=i?a>=0&&e.interactivity.status===b.mouseMoveEvent&&(this._hoverBubbleSize(l,a),this._hoverBubbleOpacity(l,a),this._hoverBubbleColor(l,a)):this.reset(l),e.interactivity.status===b.mouseLeaveEvent&&this.reset(l)}},this._hoverBubbleColor=(e,t,i)=>{const o=this.container.actualOptions,l=i??o.interactivity.modes.bubble;if(l){if(!e.bubble.finalColor){const t=l.color;if(!t)return;const i=(0,b.itemFromSingleOrMultiple)(t);e.bubble.finalColor=(0,b.rangeColorToHsl)(i)}if(e.bubble.finalColor)if(l.mix){e.bubble.color=void 0;const i=e.getFillColor();e.bubble.color=i?(0,b.rgbToHsl)((0,b.colorMix)(i,e.bubble.finalColor,1-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}},this._hoverBubbleOpacity=(e,t,i)=>{const o=this.container.actualOptions,n=i?.opacity??o.interactivity.modes.bubble?.opacity;if(!n)return;const a=e.options.opacity.value,s=l(e.opacity?.value??1,n,(0,b.getRangeMax)(a),t);void 0!==s&&(e.bubble.opacity=s)},this._hoverBubbleSize=(e,t,i)=>{const o=this.container,n=i?.size?i.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(void 0===n)return;const a=(0,b.getRangeMax)(e.options.size.value)*o.retina.pixelRatio,s=l(e.size.value,n,a,t);void 0!==s&&(e.bubble.radius=s)},this._process=(e,t,i,b)=>{const o=this.container,l=b.bubbleObj.optValue,n=o.actualOptions.interactivity.modes.bubble;if(!n||void 0===l)return;const a=n.duration,s=o.retina.bubbleModeDistance,r=b.particlesObj.optValue,c=b.bubbleObj.value,u=b.particlesObj.value??0,d=b.type;if(s&&!(s<0)&&l!==r)if(o.bubble||(o.bubble={}),o.bubble.durationEnd)c&&("size"===d&&delete e.bubble.radius,"opacity"===d&&delete e.bubble.opacity);else if(t<=s){if((c??u)!==l){const t=u-i*(u-l)/a;"size"===d&&(e.bubble.radius=t),"opacity"===d&&(e.bubble.opacity=t)}}else"size"===d&&delete e.bubble.radius,"opacity"===d&&delete e.bubble.opacity},this._singleSelectorHover=(e,t,i)=>{const o=this.container,l=document.querySelectorAll(t),n=o.actualOptions.interactivity.modes.bubble;n&&l.length&&l.forEach((t=>{const l=t,a=o.retina.pixelRatio,s={x:(l.offsetLeft+.5*l.offsetWidth)*a,y:(l.offsetTop+.5*l.offsetHeight)*a},r=.5*l.offsetWidth*a,c="circle"===i.type?new b.Circle(s.x,s.y,r):new b.Rectangle(l.offsetLeft*a,l.offsetTop*a,l.offsetWidth*a,l.offsetHeight*a),u=o.particles.quadTree.query(c,(e=>this.isEnabled(e)));for(const t of u){if(!c.contains(t.getPosition()))continue;t.bubble.inRange=!0;const i=n.divs,o=(0,b.divMode)(i,l);t.bubble.div&&t.bubble.div===l||(this.clear(t,e,!0),t.bubble.div=l),this._hoverBubbleSize(t,1,o),this._hoverBubbleOpacity(t,1,o),this._hoverBubbleColor(t,1,o)}}))},e.bubble||(e.bubble={}),this.handleClickMode=t=>{t===n&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions.interactivity.events,i=t.onHover,o=t.onClick,l=i.enable,a=i.mode,s=o.enable,r=o.mode,c=t.onDiv;l&&(0,b.isInArray)(n,a)?this._hoverBubble():s&&(0,b.isInArray)(n,r)?this._clickBubble():(0,b.divModeExecute)(n,c,((t,i)=>this._singleSelectorHover(e,t,i)))}isEnabled(e){const t=this.container,i=t.actualOptions,o=t.interactivity.mouse,l=(e?.interactivity??i.interactivity).events,{onClick:a,onDiv:s,onHover:r}=l,c=(0,b.isDivModeEnabled)(n,s);return!!(c||r.enable&&o.position||a.enable&&o.clickPosition)&&((0,b.isInArray)(n,r.mode)||(0,b.isInArray)(n,a.mode)||c)}loadModeOptions(e,...t){e.bubble||(e.bubble=new o.Z);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}}}]);