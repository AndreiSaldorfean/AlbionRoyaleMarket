{"ast":null,"code":"import { Mount } from \"./classMount\";\nimport transport_mounts from '../json_input/transport_mounts.json';\nimport mapGraphJson from '../json_input/cities.json';\n\n// function sumQuantity(itemQuantities) {\n//     let neededQuantity = 0;\n//     for (const index of itemQuantities[\"buy\"]) {\n//         if (index[3] > 0) {\n//             neededQuantity += index[3];\n//         } else {\n//             return ERROR_CODE0;\n//         }\n//     }\n//     for (const index of itemQuantities[\"craft\"]) {\n//         if (index[3] > 0) {\n//             neededQuantity += index[3];\n//         } else {\n//             return ERROR_CODE0;\n//         }\n//     }\n//     return neededQuantity;\n// }\n\nconst REFINING_BONUS = 1.58;\nconst CRAFTING_BONUS = 1.33;\nconst MARKET_PERCENTAGE = 0.92;\nconst TAX = 0.08;\nconst TAX_HI = 0.12;\nfunction computeTime(playerMount, mapGraph, dict, startingCity) {\n  let totalTime = 0;\n  let currentCity = startingCity;\n  for (const item of Object.entries(dict[\"recipe\"][\"buy\"])) {\n    if (currentCity === item[1][\"city_buy\"]) {\n      continue;\n    }\n    totalTime += playerMount.cityTravelTime(mapGraph, currentCity, item[1][\"city_buy\"]);\n    currentCity = item[1][\"city_buy\"];\n  }\n  for (const item of Object.entries(dict[\"recipe\"][\"craft\"])) {\n    if (currentCity === item[1][\"city_buy\"]) {\n      continue;\n    }\n    totalTime += playerMount.cityTravelTime(mapGraph, currentCity, item[1][\"city_buy\"]);\n    currentCity = item[1][\"city_buy\"];\n  }\n  return parseInt(totalTime) + 1;\n}\nfunction computeCarryingCapacity(playerMount, itemWeight) {\n  return parseInt(playerMount.getCarryLoad() / itemWeight);\n}\nfunction getAmount(recipe, investment) {\n  let sum = 0;\n  for (const item in recipe) {\n    const tempAmount = parseInt(recipe[item][1][\"amount\"], 10);\n    sum += tempAmount * parseInt(recipe[item][1][\"price_buy\"], 10);\n  }\n  return investment / sum;\n}\nfunction computeRound(buyList, craftList) {\n  const index = buyingList.length - 1;\n  const amount = parseInt(buyingList[index][1][\"amount\"]);\n  const craft_price = amount * nca / REFINING_BONUS * buyingList[index][1][\"price_buy\"];\n  const market_price = amount * nca * craftingList[index][1][\"price_buy\"];\n  if (craft_price > market_price) {\n    buyingList.pop(index);\n    craftingList[index][1][\"amount\"] = amount * nca;\n  } else {\n    craftingList[index][1][\"amount\"] = parseInt(amount * nca / REFINING_BONUS);\n    craftingList[index][1][\"price_buy\"] = craftingList[index][1][\"amount\"] * parseInt(buyingList[index][1][\"price_buy\"]) / nca; //price per craft,\n    //how much it costs to craft one item,\n    //not profit per crafted item!\n  }\n}\nfunction computeProfit(item, investment) {\n  const buyingList = Object.entries(item[\"recipe\"][\"buy\"]);\n  let craftingList = Object.entries(item[\"recipe\"][\"craft\"]);\n  //console.log(item[\"recipe\"][\"craft\"][item[\"ign\"]][\"price_sell\"]);\n  const priceSell = parseInt(item[\"recipe\"][\"craft\"][item[\"ign\"]][\"price_sell\"] * MARKET_PERCENTAGE);\n  if (craftingList == undefined) return -1;\n  let nca = getAmount(buyingList, investment);\n  let gca = nca * REFINING_BONUS;\n  let quantity = 0;\n  let initCost = 0;\n  //console.log(craftingList);\n  //console.log(buyingList);\n\n  //Init\n  {\n    const index = buyingList.length - 1;\n    const amount = parseInt(buyingList[index][1][\"amount\"]);\n    const craft_price = amount * nca / REFINING_BONUS * buyingList[index][1][\"price_buy\"];\n    const market_price = amount * nca * craftingList[index][1][\"price_buy\"];\n    if (craft_price > market_price) {\n      buyingList.pop(index);\n      craftingList[index][1][\"amount\"] = amount * nca;\n    } else {\n      craftingList[index][1][\"amount\"] = parseInt(amount * nca / REFINING_BONUS);\n      craftingList[index][1][\"price_buy\"] = craftingList[index][1][\"amount\"] * parseInt(buyingList[index][1][\"price_buy\"]) / nca; //price per craft,\n      //how much it costs to craft one item,\n      //not profit per crafted item!\n    }\n  }\n\n  //console.log(nca);\n  //console.log(item);\n  let j = buyingList.length - 1;\n  for (let i = craftingList.length - 2; i >= 0; i) {\n    // console.log(craftingList);\n    // console.log(buyingList);\n    // console.log(j);\n    // console.log(craftingList[j][1]);\n    // console.log(buyingList);\n    // console.log(buyingList[j]);\n    // console.log(buyingList[j][1]);\n\n    // let amount_m1 = craftingList[i+1][1][\"amount\"];  \n    // let ppc_m1    = craftingList[i+1][1][\"price_buy\"];\n    // //console.log(ppc_m1);\n    // initCost += ppc_m1*amount_m1;\n    // initCost += buyingList[j][1][\"price_buy\"]*buyingList[j][1][\"amount\"]*nca;\n    console.log(computeRound(buyingList[j], craftingList[i]));\n    i++;\n    j--;\n  }\n  //console.log(initCost);\n  const gain = priceSell * gca;\n  //console.log(priceSell);\n  //console.log(gain);\n  let profit = gain - initCost;\n  //console.log(profit);\n  return gain - initCost;\n}\nfunction computeRoi(investment, profit) {\n  return parseInt(profit / investment * 100);\n}\nfunction formatNumber(num) {\n  let string = \"\";\n  if (num > 1000000000) {\n    string = (num / 1000000000).toFixed(2) + \"b\";\n  } else if (num > 1000000) {\n    string = (num / 1000000).toFixed(2) + \"m\";\n  } else if (num > 1000) {\n    string = (num / 1000).toFixed(2) + \"k\";\n  }\n  return string;\n}\nfunction final_json(p_items, site_input) {\n  var mount = transport_mounts[site_input[\"mount\"]];\n  var mountObj = new Mount(mount[\"Gallop delay\"], mount[\"Move bonus\"], mount[\"Gallop bonus\"], mount[\"Carry capacity\"]);\n  p_items.map(item => {\n    item[1][\"time\"] = computeTime(mountObj, mapGraphJson, item[1], site_input[\"current_city\"]);\n    item[1][\"carrying_capacity\"] = site_input[\"carrying_capacity\"];\n    item[1][\"profit\"] = computeProfit(item[1], site_input[\"investment\"]);\n    console.log(item);\n    console.log(item[1][\"profit\"]);\n    // item[\"roi\"]               = computeRoi(site_input[\"investment\"],item[\"profit\"]);\n    item[1][\"roi\"] = 0;\n  });\n  return p_items;\n}\nfunction compute_item(item) {\n  let site_input = JSON.parse(localStorage.getItem(\"siteInput\"));\n  var mount = transport_mounts[site_input[\"mount\"]];\n  var mountObj = new Mount(mount[\"Gallop delay\"], mount[\"Move bonus\"], mount[\"Gallop bonus\"], mount[\"Carry capacity\"]);\n  item[\"time\"] = computeTime(mountObj, mapGraphJson, item, site_input[\"current_city\"]);\n  item[\"carrying_capacity\"] = site_input[\"carrying_capacity\"];\n  item[\"profit\"] = computeProfit(item, site_input[\"investment\"]);\n  item[\"roi\"] = computeRoi(site_input[\"investment\"], item[\"profit\"]);\n  return item;\n}\nexport { final_json, compute_item };","map":{"version":3,"names":["Mount","transport_mounts","mapGraphJson","REFINING_BONUS","CRAFTING_BONUS","MARKET_PERCENTAGE","TAX","TAX_HI","computeTime","playerMount","mapGraph","dict","startingCity","totalTime","currentCity","item","Object","entries","cityTravelTime","parseInt","computeCarryingCapacity","itemWeight","getCarryLoad","getAmount","recipe","investment","sum","tempAmount","computeRound","buyList","craftList","index","buyingList","length","amount","craft_price","nca","market_price","craftingList","pop","computeProfit","priceSell","undefined","gca","quantity","initCost","j","i","console","log","gain","profit","computeRoi","formatNumber","num","string","toFixed","final_json","p_items","site_input","mount","mountObj","map","compute_item","JSON","parse","localStorage","getItem"],"sources":["C:/nginx/html/AlbionRoyaleMarket/albion_royale_market_website/src/scripts/new_final_json.js"],"sourcesContent":["import { Mount } from \"./classMount\";\r\nimport transport_mounts from '../json_input/transport_mounts.json';\r\nimport mapGraphJson from '../json_input/cities.json';\r\n\r\n// function sumQuantity(itemQuantities) {\r\n//     let neededQuantity = 0;\r\n//     for (const index of itemQuantities[\"buy\"]) {\r\n//         if (index[3] > 0) {\r\n//             neededQuantity += index[3];\r\n//         } else {\r\n//             return ERROR_CODE0;\r\n//         }\r\n//     }\r\n//     for (const index of itemQuantities[\"craft\"]) {\r\n//         if (index[3] > 0) {\r\n//             neededQuantity += index[3];\r\n//         } else {\r\n//             return ERROR_CODE0;\r\n//         }\r\n//     }\r\n//     return neededQuantity;\r\n// }\r\n\r\nconst REFINING_BONUS=1.58\r\nconst CRAFTING_BONUS=1.33\r\nconst MARKET_PERCENTAGE=0.92 \r\nconst TAX =0.08\r\nconst TAX_HI =0.12\r\n\r\nfunction computeTime(playerMount,mapGraph, dict, startingCity) {\r\n    let totalTime = 0;\r\n    let currentCity = startingCity;\r\n    for (const item of Object.entries(dict[\"recipe\"][\"buy\"])) {\r\n        if (currentCity === item[1][\"city_buy\"]) {\r\n            continue;\r\n        }\r\n        totalTime += playerMount.cityTravelTime(mapGraph, currentCity, item[1][\"city_buy\"]);\r\n        currentCity = item[1][\"city_buy\"];\r\n    }\r\n    for (const item of Object.entries(dict[\"recipe\"][\"craft\"])) {\r\n        if (currentCity === item[1][\"city_buy\"]) {\r\n            continue;\r\n        }\r\n        totalTime += playerMount.cityTravelTime(mapGraph, currentCity, item[1][\"city_buy\"]);\r\n        currentCity = item[1][\"city_buy\"];\r\n    }\r\n    return parseInt(totalTime) + 1;\r\n}\r\n\r\nfunction computeCarryingCapacity(playerMount, itemWeight) {\r\n    return parseInt(playerMount.getCarryLoad() / itemWeight);\r\n}\r\n\r\nfunction getAmount(recipe,investment){\r\n    let sum = 0;\r\n    for(const item in recipe){\r\n        const tempAmount =parseInt(recipe[item][1][\"amount\"],10);\r\n        sum +=tempAmount*parseInt(recipe[item][1][\"price_buy\"],10);\r\n    }\r\n    return investment/sum;\r\n}\r\n\r\nfunction computeRound(buyList,craftList){\r\n    const index = buyingList.length-1;\r\n    const amount = parseInt(buyingList[index][1][\"amount\"]);\r\n    const craft_price = (amount*nca/REFINING_BONUS)*buyingList[index][1][\"price_buy\"];\r\n    const market_price = (amount*nca*craftingList[index][1][\"price_buy\"]);\r\n    if(craft_price > market_price){\r\n        buyingList.pop(index);\r\n        craftingList[index][1][\"amount\"] = amount*nca;\r\n    }else{\r\n        craftingList[index][1][\"amount\"] = parseInt(amount*nca/REFINING_BONUS);\r\n        craftingList[index][1][\"price_buy\"] = craftingList[index][1][\"amount\"]*\r\n                                                parseInt(buyingList[index][1][\"price_buy\"])/nca;//price per craft,\r\n                                                                                                //how much it costs to craft one item,\r\n                                                                                                //not profit per crafted item!\r\n    }\r\n}\r\n\r\nfunction computeProfit(item, investment) {\r\n    const buyingList = Object.entries(item[\"recipe\"][\"buy\"]);\r\n    let craftingList = Object.entries(item[\"recipe\"][\"craft\"]);\r\n    //console.log(item[\"recipe\"][\"craft\"][item[\"ign\"]][\"price_sell\"]);\r\n    const priceSell = parseInt(item[\"recipe\"][\"craft\"][item[\"ign\"]][\"price_sell\"] * MARKET_PERCENTAGE);\r\n    if(craftingList == undefined)return -1;\r\n    let nca = getAmount(buyingList,investment);\r\n    let gca = nca*REFINING_BONUS;\r\n    let quantity = 0;\r\n    let initCost = 0;\r\n    //console.log(craftingList);\r\n    //console.log(buyingList);\r\n\r\n    //Init\r\n    {\r\n        const index = buyingList.length-1;\r\n        const amount = parseInt(buyingList[index][1][\"amount\"]);\r\n        const craft_price = (amount*nca/REFINING_BONUS)*buyingList[index][1][\"price_buy\"];\r\n        const market_price = (amount*nca*craftingList[index][1][\"price_buy\"]);\r\n        if(craft_price > market_price){\r\n            buyingList.pop(index);\r\n            craftingList[index][1][\"amount\"] = amount*nca;\r\n        }else{\r\n            craftingList[index][1][\"amount\"] = parseInt(amount*nca/REFINING_BONUS);\r\n            craftingList[index][1][\"price_buy\"] = craftingList[index][1][\"amount\"]*\r\n                                                  parseInt(buyingList[index][1][\"price_buy\"])/nca;//price per craft,\r\n                                                                                                  //how much it costs to craft one item,\r\n                                                                                                  //not profit per crafted item!\r\n        }\r\n    }\r\n\r\n    //console.log(nca);\r\n    //console.log(item);\r\n    let j = buyingList.length-1;\r\n    for (let i = craftingList.length - 2 ; i>=0;i) {\r\n        // console.log(craftingList);\r\n        // console.log(buyingList);\r\n        // console.log(j);\r\n        // console.log(craftingList[j][1]);\r\n        // console.log(buyingList);\r\n        // console.log(buyingList[j]);\r\n        // console.log(buyingList[j][1]);\r\n\r\n        // let amount_m1 = craftingList[i+1][1][\"amount\"];  \r\n        // let ppc_m1    = craftingList[i+1][1][\"price_buy\"];\r\n        // //console.log(ppc_m1);\r\n        // initCost += ppc_m1*amount_m1;\r\n        // initCost += buyingList[j][1][\"price_buy\"]*buyingList[j][1][\"amount\"]*nca;\r\n        console.log(computeRound(buyingList[j],craftingList[i]));\r\n        i++;\r\n        j--;\r\n    }\r\n    //console.log(initCost);\r\n    const gain = priceSell *gca;\r\n    //console.log(priceSell);\r\n    //console.log(gain);\r\n    let profit = gain-initCost;\r\n    //console.log(profit);\r\n    return gain - initCost;\r\n}\r\n\r\nfunction computeRoi(investment, profit) {\r\n    return parseInt((profit / investment) * 100);\r\n}\r\n\r\nfunction formatNumber(num) {\r\n    let string = \"\";\r\n    if (num > 1000000000) {\r\n        string = (num / 1000000000).toFixed(2) + \"b\";\r\n    } else if (num > 1000000) {\r\n        string = (num / 1000000).toFixed(2) + \"m\";\r\n    } else if (num > 1000) {\r\n        string = (num / 1000).toFixed(2) + \"k\";\r\n    }\r\n    return string;\r\n}\r\n\r\n\r\nfunction final_json(p_items,site_input){\r\n    var mount = transport_mounts[site_input[\"mount\"]]\r\n\r\n    var mountObj =new Mount(mount[\"Gallop delay\"],\r\n                            mount[\"Move bonus\"],\r\n                            mount[\"Gallop bonus\"],\r\n                            mount[\"Carry capacity\"]);\r\n    p_items.map((item)=>{\r\n        item[1][\"time\"]             = computeTime(mountObj,\r\n                                        mapGraphJson,\r\n                                        item[1],\r\n                                        site_input[\"current_city\"]);\r\n        item[1][\"carrying_capacity\"] = site_input[\"carrying_capacity\"];\r\n        item[1][\"profit\"]           = computeProfit(item[1],site_input[\"investment\"]);\r\n        console.log(item);\r\n        console.log(item[1][\"profit\"]);\r\n        // item[\"roi\"]               = computeRoi(site_input[\"investment\"],item[\"profit\"]);\r\n        item[1][\"roi\"]               = 0;\r\n    })\r\n    return p_items;\r\n}\r\n\r\nfunction compute_item(item){\r\n    let site_input = JSON.parse(localStorage.getItem(\"siteInput\"));\r\n    var mount = transport_mounts[site_input[\"mount\"]]\r\n    var mountObj =new Mount(mount[\"Gallop delay\"],\r\n                            mount[\"Move bonus\"],\r\n                            mount[\"Gallop bonus\"],\r\n                            mount[\"Carry capacity\"]);\r\n    \r\n    \r\n    item[\"time\"]              = computeTime(mountObj,\r\n                                mapGraphJson,\r\n                                item,\r\n                                site_input[\"current_city\"]);\r\n\r\n    item[\"carrying_capacity\"] = site_input[\"carrying_capacity\"];\r\n    item[\"profit\"]            = computeProfit(item,site_input[\"investment\"]);\r\n    item[\"roi\"]               = computeRoi(site_input[\"investment\"],item[\"profit\"]);\r\n    return item;    \r\n}\r\n\r\nexport {final_json, compute_item};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}