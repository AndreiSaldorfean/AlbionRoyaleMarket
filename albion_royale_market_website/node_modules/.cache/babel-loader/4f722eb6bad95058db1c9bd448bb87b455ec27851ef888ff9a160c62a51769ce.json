{"ast":null,"code":"import{sortJson}from'../scripts/sorter.js';import ItemTableRow from'./ItemTableRow.js';import'../css/ItemTable.css';import{useState,useEffect}from\"react\";import Pagination from'./Pagination.js';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ItemsTable(){const[jsonData,setJsonData]=useState([]);const[items,setItems]=useState(\"\");const[jobject,setJobject]=useState([]);const[sortBy,setSortBy]=useState('roi');const[currentPage,setCurrentPage]=useState(1);const[recordsPerPage]=useState(10);const indexOfLastRecord=currentPage*recordsPerPage;const indexOfFirstRecord=indexOfLastRecord-recordsPerPage;const handleSortChange=e=>{setSortBy(e.target.value);const ceva=jobject;sortJson(ceva,e.target.value);setJobject(ceva);};const[currentRecords,setRecords]=useState([]);const[nPages,setPages]=useState(0);useEffect(()=>{const fetchData=async()=>{try{console.log(\"hello\");const response=await fetch('http://192.168.0.144:3000/final.json');const data=await response.json();const tempItem=JSON.stringify(data);const tempObj=JSON.parse(tempItem);const tempRecords=tempObj.slice(indexOfFirstRecord,indexOfLastRecord);const tempPages=Math.ceil(tempObj.length/recordsPerPage);setJsonData(tempObj);setJsonData(tempRecords);setJsonData(tempPages);setItems(tempItem);setJobject(tempObj);setRecords(tempRecords);setPages(tempPages);}catch(error){console.error('Error fetching data:',error);}};fetchData();},[]);if(jobject!=[]){currentRecords=jobject.slice(indexOfFirstRecord,indexOfLastRecord);nPages=Math.ceil(jobject.length/recordsPerPage);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid position-relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"backgrond\",children:/*#__PURE__*/_jsx(\"div\",{className:\"color\",children:/*#__PURE__*/_jsx(\"div\",{className:\"papyrus-texture\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative d-flex flex-column justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row w-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col d-flex\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"market-offers me-3\",children:\"Market Offers\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"me-2 sort-by-style\",children:\"Sort By:\"}),/*#__PURE__*/_jsxs(\"select\",{class:\"transparent-inp-field sort-by-inp\",id:\"sort-by\",value:sortBy,onChange:handleSortChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"roi\",children:\"Roi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"profit\",children:\"Profit\"}),/*#__PURE__*/_jsx(\"option\",{value:\"time\",children:\"Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"carrying_capacity\",children:\"Carring Capacity\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"scroll\",id:\"albion-scroll\",children:currentRecords.map((element,index)=>/*#__PURE__*/_jsx(ItemTableRow,{id:element.id,ign:element.ign,city_buy:element.city_buy,buy_price:element.buy_price,city_sell:element.city_sell,sell_price:element.sell_price,city_craft:element.city_craft,time:element.time,buy_time_update:element.buy_time_update,sell_time_update:element.sell_time_update,carrying_capacity:element.carrying_capacity,recipe:element.recipe,quality:element.quality,profit:element.profit,roi:element.roi,index:element.index,style:index%2===0?\"even-row-style\":\"odd-row-style\"}))})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row w-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(Pagination,{nPages:nPages,currentPage:currentPage,setCurrentPage:setCurrentPage})})})]})]})});}","map":{"version":3,"names":["sortJson","ItemTableRow","useState","useEffect","Pagination","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ItemsTable","jsonData","setJsonData","items","setItems","jobject","setJobject","sortBy","setSortBy","currentPage","setCurrentPage","recordsPerPage","indexOfLastRecord","indexOfFirstRecord","handleSortChange","e","target","value","ceva","currentRecords","setRecords","nPages","setPages","fetchData","console","log","response","fetch","data","json","tempItem","JSON","stringify","tempObj","parse","tempRecords","slice","tempPages","Math","ceil","length","error","children","className","class","id","onChange","map","element","index","ign","city_buy","buy_price","city_sell","sell_price","city_craft","time","buy_time_update","sell_time_update","carrying_capacity","recipe","quality","profit","roi","style"],"sources":["C:/nginx/html/AlbionRoyaleMarket/albion_royale_market_website/src/components/ItemsTable.js"],"sourcesContent":["import {sortJson} from  '../scripts/sorter.js';\r\nimport ItemTableRow from './ItemTableRow.js';\r\nimport '../css/ItemTable.css';\r\nimport { useState, useEffect } from \"react\";\r\nimport Pagination from './Pagination.js';\r\n\r\nexport default function ItemsTable(){\r\n    const [jsonData, setJsonData] = useState([]);\r\n    const [items, setItems] = useState(\"\");\r\n    const [jobject, setJobject] = useState([]);\r\n    const [sortBy, setSortBy] = useState('roi');\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [recordsPerPage] = useState(10);\r\n    const indexOfLastRecord = currentPage * recordsPerPage;\r\n    const indexOfFirstRecord = indexOfLastRecord - recordsPerPage;\r\n    const handleSortChange = (e) => {\r\n        setSortBy(e.target.value);\r\n        const ceva = jobject;\r\n        sortJson(ceva,e.target.value);\r\n        setJobject(ceva);\r\n    };\r\n    const [currentRecords,setRecords] = useState([]);\r\n    const [nPages, setPages] = useState(0); \r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                console.log(\"hello\")\r\n                const response = await fetch('http://192.168.0.144:3000/final.json');\r\n                const data = await response.json();\r\n                const tempItem = JSON.stringify(data);\r\n                const tempObj = JSON.parse(tempItem);\r\n                const tempRecords = tempObj.slice(indexOfFirstRecord, indexOfLastRecord);\r\n                const tempPages = Math.ceil(tempObj.length / recordsPerPage);\r\n                setJsonData(tempObj);\r\n                setJsonData(tempRecords);\r\n                setJsonData(tempPages);\r\n                setItems(tempItem);\r\n                setJobject(tempObj);\r\n                setRecords(tempRecords);\r\n                setPages(tempPages);\r\n            } catch (error) {\r\n                console.error('Error fetching data:', error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n    if(jobject != []){\r\n        currentRecords = jobject.slice(indexOfFirstRecord, indexOfLastRecord);\r\n        nPages =  Math.ceil(jobject.length / recordsPerPage);\r\n    }\r\n    return (\r\n        <>\r\n            <div className='container-fluid position-relative'>\r\n                <div className='backgrond'>\r\n                    <div className='color'>\r\n                        <div className='papyrus-texture'/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='position-relative d-flex flex-column justify-content-center'>\r\n                    <div className='row w-100'>\r\n                        <div className='col d-flex'>\r\n                            <h2 className='market-offers me-3'>Market Offers</h2>\r\n\r\n                            <div className='d-flex'>\r\n                                <h3 className='me-2 sort-by-style'>Sort By:</h3>    \r\n                                <select class=\"transparent-inp-field sort-by-inp\" id=\"sort-by\" value={sortBy} onChange={handleSortChange}>\r\n                                    <option value=\"roi\">Roi</option>\r\n                                    <option value=\"profit\">Profit</option>\r\n                                    <option value=\"time\">Time</option>\r\n                                    <option value=\"carrying_capacity\">Carring Capacity</option>\r\n                                </select> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='row'>\r\n                        <div className='col'>\r\n                            <div className='scroll' id='albion-scroll'>\r\n                                {currentRecords.map((element,index) => (\r\n                                    <ItemTableRow \r\n                                        id={element.id} \r\n                                        ign={element.ign}\r\n                                        city_buy={element.city_buy}\r\n                                        buy_price={element.buy_price}\r\n                                        city_sell={element.city_sell}\r\n                                        sell_price={element.sell_price}\r\n                                        city_craft={element.city_craft}\r\n                                        time={element.time}\r\n                                        buy_time_update={element.buy_time_update}\r\n                                        sell_time_update={element.sell_time_update}\r\n                                        carrying_capacity={element.carrying_capacity}\r\n                                        recipe={element.recipe}\r\n                                        quality={element.quality}\r\n                                        profit={element.profit}\r\n                                        roi={element.roi}\r\n                                        index={element.index}\r\n                                        style={index % 2 === 0 ? \"even-row-style\" : \"odd-row-style\"}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='row w-100'>\r\n                        <div className='col'>\r\n                            <Pagination\r\n                                nPages={nPages}\r\n                                currentPage={currentPage}\r\n                                setCurrentPage={setCurrentPage}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}