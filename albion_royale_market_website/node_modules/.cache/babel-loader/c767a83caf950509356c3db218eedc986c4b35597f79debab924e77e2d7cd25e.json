{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/nginx/html/AlbionRoyaleMarket/albion_royale_market_website/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{sortJson}from'../scripts/sorter.js';import ItemTableRow from'./ItemTableRow.js';import'../css/ItemTable.css';import{useState,useEffect}from\"react\";import Pagination from'./Pagination.js';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ItemsTable(){const[jsonData,setJsonData]=useState([]);const[items,setItems]=useState(\"\");const[jobject,setJobject]=useState([]);const[sortBy,setSortBy]=useState('roi');const[currentPage,setCurrentPage]=useState(1);const[recordsPerPage]=useState(10);const indexOfLastRecord=currentPage*recordsPerPage;const indexOfFirstRecord=indexOfLastRecord-recordsPerPage;const handleSortChange=e=>{setSortBy(e.target.value);sortJson(jobject,e.target.value);};const[currentRecords,setRecords]=useState([]);const[nPages,setPages]=useState(0)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\"])));useEffect(()=>{const fetchData=async()=>{try{const response=await fetch('http://192.168.0.144:3000/final.json');const data=await response.json();console.log(data);setJsonData(data);setItems(JSON.stringify(jsonData));console.log(items);setJobject(JSON.parse(items));console.log(jobject);setRecords(jobject.slice(indexOfFirstRecord,indexOfLastRecord));console.log(currentRecords);setPages(Math.ceil(jobject.length/recordsPerPage));console.log(nPages);}catch(error){console.error('Error fetching data:',error);}};fetchData();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid position-relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"backgrond\",children:/*#__PURE__*/_jsx(\"div\",{className:\"color\",children:/*#__PURE__*/_jsx(\"div\",{className:\"papyrus-texture\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative d-flex flex-column justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row w-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col d-flex\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"market-offers me-3\",children:\"Market Offers\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"me-2 sort-by-style\",children:\"Sort By:\"}),/*#__PURE__*/_jsxs(\"select\",{class:\"transparent-inp-field sort-by-inp\",id:\"sort-by\",value:sortBy,onChange:handleSortChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"roi\",children:\"Roi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"profit\",children:\"Profit\"}),/*#__PURE__*/_jsx(\"option\",{value:\"time\",children:\"Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"carrying_capacity\",children:\"Carring Capacity\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"scroll\",id:\"albion-scroll\",children:currentRecords.map((element,index)=>/*#__PURE__*/_jsx(ItemTableRow,{id:element.id,ign:element.ign,city_buy:element.city_buy,buy_price:element.buy_price,city_sell:element.city_sell,sell_price:element.sell_price,city_craft:element.city_craft,time:element.time,buy_time_update:element.buy_time_update,sell_time_update:element.sell_time_update,carrying_capacity:element.carrying_capacity,recipe:element.recipe,quality:element.quality,profit:element.profit,roi:element.roi,index:element.index,style:index%2===0?\"even-row-style\":\"odd-row-style\"}))})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row w-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(Pagination,{nPages:nPages,currentPage:currentPage,setCurrentPage:setCurrentPage})})})]})]})});}","map":{"version":3,"names":["sortJson","ItemTableRow","useState","useEffect","Pagination","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ItemsTable","jsonData","setJsonData","items","setItems","jobject","setJobject","sortBy","setSortBy","currentPage","setCurrentPage","recordsPerPage","indexOfLastRecord","indexOfFirstRecord","handleSortChange","e","target","value","currentRecords","setRecords","nPages","setPages","_templateObject","_taggedTemplateLiteral","fetchData","response","fetch","data","json","console","log","JSON","stringify","parse","slice","Math","ceil","length","error","children","className","class","id","onChange","map","element","index","ign","city_buy","buy_price","city_sell","sell_price","city_craft","time","buy_time_update","sell_time_update","carrying_capacity","recipe","quality","profit","roi","style"],"sources":["C:/nginx/html/AlbionRoyaleMarket/albion_royale_market_website/src/components/ItemsTable.js"],"sourcesContent":["import {sortJson} from  '../scripts/sorter.js';\r\nimport ItemTableRow from './ItemTableRow.js';\r\nimport '../css/ItemTable.css';\r\nimport { useState, useEffect } from \"react\";\r\nimport Pagination from './Pagination.js';\r\n\r\nexport default function ItemsTable(){\r\n    const [jsonData, setJsonData] = useState([]);\r\n    const [items, setItems] = useState(\"\");\r\n    const [jobject, setJobject] = useState([]);\r\n    const [sortBy, setSortBy] = useState('roi');\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [recordsPerPage] = useState(10);\r\n    const indexOfLastRecord = currentPage * recordsPerPage;\r\n    const indexOfFirstRecord = indexOfLastRecord - recordsPerPage;\r\n    const handleSortChange = (e) => {\r\n        setSortBy(e.target.value);\r\n        sortJson(jobject,e.target.value);\r\n    };\r\n    const [currentRecords,setRecords] = useState([]);\r\n    const [nPages, setPages] = useState(0)``; \r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await fetch('http://192.168.0.144:3000/final.json');\r\n                const data = await response.json();\r\n                console.log(data);\r\n                setJsonData(data);\r\n                setItems(JSON.stringify(jsonData));\r\n                console.log(items);\r\n                setJobject(JSON.parse(items));\r\n                console.log(jobject);\r\n                setRecords(jobject.slice(indexOfFirstRecord, indexOfLastRecord));\r\n                console.log(currentRecords);\r\n                setPages(Math.ceil(jobject.length / recordsPerPage));\r\n                console.log(nPages);\r\n            } catch (error) {\r\n                console.error('Error fetching data:', error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className='container-fluid position-relative'>\r\n                <div className='backgrond'>\r\n                    <div className='color'>\r\n                        <div className='papyrus-texture'/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='position-relative d-flex flex-column justify-content-center'>\r\n                    <div className='row w-100'>\r\n                        <div className='col d-flex'>\r\n                            <h2 className='market-offers me-3'>Market Offers</h2>\r\n\r\n                            <div className='d-flex'>\r\n                                <h3 className='me-2 sort-by-style'>Sort By:</h3>    \r\n                                <select class=\"transparent-inp-field sort-by-inp\" id=\"sort-by\" value={sortBy} onChange={handleSortChange}>\r\n                                    <option value=\"roi\">Roi</option>\r\n                                    <option value=\"profit\">Profit</option>\r\n                                    <option value=\"time\">Time</option>\r\n                                    <option value=\"carrying_capacity\">Carring Capacity</option>\r\n                                </select> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='row'>\r\n                        <div className='col'>\r\n                            <div className='scroll' id='albion-scroll'>\r\n                                {currentRecords.map((element,index) => (\r\n                                    <ItemTableRow \r\n                                        id={element.id} \r\n                                        ign={element.ign}\r\n                                        city_buy={element.city_buy}\r\n                                        buy_price={element.buy_price}\r\n                                        city_sell={element.city_sell}\r\n                                        sell_price={element.sell_price}\r\n                                        city_craft={element.city_craft}\r\n                                        time={element.time}\r\n                                        buy_time_update={element.buy_time_update}\r\n                                        sell_time_update={element.sell_time_update}\r\n                                        carrying_capacity={element.carrying_capacity}\r\n                                        recipe={element.recipe}\r\n                                        quality={element.quality}\r\n                                        profit={element.profit}\r\n                                        roi={element.roi}\r\n                                        index={element.index}\r\n                                        style={index % 2 === 0 ? \"even-row-style\" : \"odd-row-style\"}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='row w-100'>\r\n                        <div className='col'>\r\n                            <Pagination\r\n                                nPages={nPages}\r\n                                currentPage={currentPage}\r\n                                setCurrentPage={setCurrentPage}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}"],"mappings":"uLAAA,OAAQA,QAAQ,KAAQ,sBAAsB,CAC9C,MAAO,CAAAC,YAAY,KAAM,mBAAmB,CAC5C,MAAO,sBAAsB,CAC7B,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,UAAU,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEzC,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAE,CAChC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACgB,MAAM,CAAEC,SAAS,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACkB,WAAW,CAAEC,cAAc,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACoB,cAAc,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACrC,KAAM,CAAAqB,iBAAiB,CAAGH,WAAW,CAAGE,cAAc,CACtD,KAAM,CAAAE,kBAAkB,CAAGD,iBAAiB,CAAGD,cAAc,CAC7D,KAAM,CAAAG,gBAAgB,CAAIC,CAAC,EAAK,CAC5BP,SAAS,CAACO,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACzB5B,QAAQ,CAACgB,OAAO,CAACU,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACpC,CAAC,CACD,KAAM,CAACC,cAAc,CAACC,UAAU,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC6B,MAAM,CAAEC,QAAQ,CAAC,CAAG9B,QAAQ,CAAC,CAAC,CAAC,CAAA+B,eAAA,GAAAA,eAAA,CAAAC,sBAAA,QAAE,CACxC/B,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAgC,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,sCAAsC,CAAC,CACpE,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CACjBzB,WAAW,CAACyB,IAAI,CAAC,CACjBvB,QAAQ,CAAC2B,IAAI,CAACC,SAAS,CAAC/B,QAAQ,CAAC,CAAC,CAClC4B,OAAO,CAACC,GAAG,CAAC3B,KAAK,CAAC,CAClBG,UAAU,CAACyB,IAAI,CAACE,KAAK,CAAC9B,KAAK,CAAC,CAAC,CAC7B0B,OAAO,CAACC,GAAG,CAACzB,OAAO,CAAC,CACpBc,UAAU,CAACd,OAAO,CAAC6B,KAAK,CAACrB,kBAAkB,CAAED,iBAAiB,CAAC,CAAC,CAChEiB,OAAO,CAACC,GAAG,CAACZ,cAAc,CAAC,CAC3BG,QAAQ,CAACc,IAAI,CAACC,IAAI,CAAC/B,OAAO,CAACgC,MAAM,CAAG1B,cAAc,CAAC,CAAC,CACpDkB,OAAO,CAACC,GAAG,CAACV,MAAM,CAAC,CACvB,CAAE,MAAOkB,KAAK,CAAE,CACZT,OAAO,CAACS,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAChD,CACJ,CAAC,CAEDd,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI7B,IAAA,CAAAI,SAAA,EAAAwC,QAAA,cACI1C,KAAA,QAAK2C,SAAS,CAAC,mCAAmC,CAAAD,QAAA,eAC9C5C,IAAA,QAAK6C,SAAS,CAAC,WAAW,CAAAD,QAAA,cACtB5C,IAAA,QAAK6C,SAAS,CAAC,OAAO,CAAAD,QAAA,cAClB5C,IAAA,QAAK6C,SAAS,CAAC,iBAAiB,CAAC,CAAC,CACjC,CAAC,CACL,CAAC,cAEN3C,KAAA,QAAK2C,SAAS,CAAC,6DAA6D,CAAAD,QAAA,eACxE5C,IAAA,QAAK6C,SAAS,CAAC,WAAW,CAAAD,QAAA,cACtB1C,KAAA,QAAK2C,SAAS,CAAC,YAAY,CAAAD,QAAA,eACvB5C,IAAA,OAAI6C,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAC,eAAa,CAAI,CAAC,cAErD1C,KAAA,QAAK2C,SAAS,CAAC,QAAQ,CAAAD,QAAA,eACnB5C,IAAA,OAAI6C,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAC,UAAQ,CAAI,CAAC,cAChD1C,KAAA,WAAQ4C,KAAK,CAAC,mCAAmC,CAACC,EAAE,CAAC,SAAS,CAACzB,KAAK,CAAEV,MAAO,CAACoC,QAAQ,CAAE7B,gBAAiB,CAAAyB,QAAA,eACrG5C,IAAA,WAAQsB,KAAK,CAAC,KAAK,CAAAsB,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChC5C,IAAA,WAAQsB,KAAK,CAAC,QAAQ,CAAAsB,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtC5C,IAAA,WAAQsB,KAAK,CAAC,MAAM,CAAAsB,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClC5C,IAAA,WAAQsB,KAAK,CAAC,mBAAmB,CAAAsB,QAAA,CAAC,kBAAgB,CAAQ,CAAC,EACvD,CAAC,EACR,CAAC,EACL,CAAC,CACL,CAAC,cACN5C,IAAA,QAAK6C,SAAS,CAAC,KAAK,CAAAD,QAAA,cAChB5C,IAAA,QAAK6C,SAAS,CAAC,KAAK,CAAAD,QAAA,cAChB5C,IAAA,QAAK6C,SAAS,CAAC,QAAQ,CAACE,EAAE,CAAC,eAAe,CAAAH,QAAA,CACrCrB,cAAc,CAAC0B,GAAG,CAAC,CAACC,OAAO,CAACC,KAAK,gBAC9BnD,IAAA,CAACL,YAAY,EACToD,EAAE,CAAEG,OAAO,CAACH,EAAG,CACfK,GAAG,CAAEF,OAAO,CAACE,GAAI,CACjBC,QAAQ,CAAEH,OAAO,CAACG,QAAS,CAC3BC,SAAS,CAAEJ,OAAO,CAACI,SAAU,CAC7BC,SAAS,CAAEL,OAAO,CAACK,SAAU,CAC7BC,UAAU,CAAEN,OAAO,CAACM,UAAW,CAC/BC,UAAU,CAAEP,OAAO,CAACO,UAAW,CAC/BC,IAAI,CAAER,OAAO,CAACQ,IAAK,CACnBC,eAAe,CAAET,OAAO,CAACS,eAAgB,CACzCC,gBAAgB,CAAEV,OAAO,CAACU,gBAAiB,CAC3CC,iBAAiB,CAAEX,OAAO,CAACW,iBAAkB,CAC7CC,MAAM,CAAEZ,OAAO,CAACY,MAAO,CACvBC,OAAO,CAAEb,OAAO,CAACa,OAAQ,CACzBC,MAAM,CAAEd,OAAO,CAACc,MAAO,CACvBC,GAAG,CAAEf,OAAO,CAACe,GAAI,CACjBd,KAAK,CAAED,OAAO,CAACC,KAAM,CACrBe,KAAK,CAAEf,KAAK,CAAG,CAAC,GAAK,CAAC,CAAG,gBAAgB,CAAG,eAAgB,CAC/D,CACJ,CAAC,CACD,CAAC,CACL,CAAC,CACL,CAAC,cACNnD,IAAA,QAAK6C,SAAS,CAAC,WAAW,CAAAD,QAAA,cACtB5C,IAAA,QAAK6C,SAAS,CAAC,KAAK,CAAAD,QAAA,cAChB5C,IAAA,CAACF,UAAU,EACP2B,MAAM,CAAEA,MAAO,CACfX,WAAW,CAAEA,WAAY,CACzBC,cAAc,CAAEA,cAAe,CAClC,CAAC,CACD,CAAC,CACL,CAAC,EACL,CAAC,EACL,CAAC,CACR,CAAC,CAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}